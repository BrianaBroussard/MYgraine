{% extends 'base.html' %}
{% block title %}MYgraine Home{% endblock %}

{% block body %}
  <h1>Create an Account</h1>

  <form action="/users" method="POST">
    <p>
      Email<span style="color: red">*</span>  <input type="text" name="email" placeholder="email@example.com" required pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" required>
    </p>

    <p>
      Name<span style="color: red">*</span>  <input type="name" name="name"placeholder="Your Name" required>
    </p>

    <p>
        Password<span style="color: red">*</span>  <input type="password" name="password" placeholder="Password" required>
      </p>

      <p>
        Phone Number<span style="color: red">*</span>  <input type="phone_number" name="phone_number" placeholder="555-555-5555" required pattern="(1[- ])?\(?\d{3}\)?[- ]?\d{3}[- ]?\d{4}" required>
      </p>
      <p>
        Allow notifications for MYgraine to remind you to log headaches:<span style="color: red">*</span> 
        <input type="checkbox" name="notifications" value="True" id="notifications-true">
        <label> yes</label> 
        <input type="checkbox" name="notifications" value="False" id="notifications-false">
        <label> no </label> 
      </p>
      <p id="schedule-notification">
      </p>
      <p>
        Do you get periods? 
        <input type="checkbox" name="period" value="True" id="periodtrue">
        <label> yes</label> 
        <input type="checkbox" name="period" value="False" id="periodfalse">
        <label> no </label> 
      </p>

    <p>
      <input type="submit">
    </p>
  </form>

  <script>
  // adds time schedule to create account form if user allows notifications
    const schedule_notifications = document.querySelector('#notifications-true');
    
    function addScheduler() {
      document.querySelector('#schedule-notification').insertAdjacentHTML('beforeend', '<label for="scheduled-reminder">When do you want to be reminded to log your headaches?</label> <input id="scheduled-reminder" type="time" name="scheduled-reminder" min="01:01" max="24:00" required/>' );
    }
    schedule_notifications.addEventListener('click', addScheduler);</script>
 
{% endblock %}